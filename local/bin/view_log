#!/usr/bin/env python

import argparse
import os
import os.path as osp
import time

import pandas as pd


def main():
    parser = argparse.ArgumentParser()
    parser.add_argument('log_file')
    args = parser.parse_args()

    log_file = args.log_file

    while True:
        try:
            ext = osp.splitext(log_file)[-1]
            if ext == '.json':
                df = pd.read_json(log_file)
            elif ext == '.csv':
                df = pd.read_csv(log_file)
            print(df.tail(n=10))
            time.sleep(1)
            os.system('clear')
        except KeyboardInterrupt:
            break
        except:
            pass


if __name__ == '__main__':
    main()
