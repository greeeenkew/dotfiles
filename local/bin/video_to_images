#!/usr/bin/env python

import argparse
import os
import os.path as osp
import imageio


parser = argparse.ArgumentParser()
parser.add_argument('video_file')
parser.add_argument('-r', '--rate', type=int, default=1)
args = parser.parse_args()

video_file = args.video_file
rate = args.rate

out_dir = osp.splitext(osp.basename(video_file))[0]
os.mkdir(out_dir)

for i, img in enumerate(imageio.get_reader(video_file)):
    imageio.imsave(osp.join(out_dir, '%08d.jpg' % i), img)
